<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>זמני שבת - כניסת שבת | יציאת שבת | שעות שבת לפי מיקום</title>

    <!-- Google Tag Manager -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T7HFKFX0PR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-T7HFKFX0PR');
    </script>

    <!-- SEO and Metadata -->
    <meta name="author" content="Dor Pascal">
    <meta name="generator" content="vscode">
    <meta property="og:title" content="זמני שבת - לוח שנה עברי">
    <meta property="og:locale" content="he_IL">
    <meta name="description" content="צפה בזמני כניסת ויציאת השבת לפי מיקומך, כולל מידע מעודכן לכל אזור. לוח שנה עברי מדויק עם זמני הדלקת נרות והבדלה.">
    <meta name="keywords" content="זמני שבת, לוח שנה עברי, כניסת שבת, יציאת שבת, הדלקת נרות, הבדלה, לוח יהודי">
    <meta property="og:description" content="צפה בזמני כניסת ויציאת השבת לפי מיקומך. לוח שנה עברי מדויק עם זמני הדלקת נרות והבדלה.">
    <meta property="og:url" content="https://dorpascal.com/hebrew-calendar/shabbat-times/">
    <meta property="og:site_name" content="לוח שנה עברי">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://dorpascal.com/hebrew-calendar/app-preview.webp">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="זמני שבת - לוח שנה עברי">
    <meta name="theme-color" content="#3498db">
    <meta name="apple-mobile-web-app-title" content="זמני שבת">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="application-name" content="זמני שבת">
    <link rel="canonical" href="https://dorpascal.com/hebrew-calendar/shabbat-times/">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "זמני שבת",
        "url": "https://dorpascal.com/hebrew-calendar/shabbat-times/",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "All",
        "browserRequirements": "Requires JavaScript. Optimized for modern browsers.",
        "author": {
            "@type": "Person",
            "name": "Dor Pascal"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Dor Pascal",
        },
        "description": "צפה בזמני כניסת ויציאת השבת לפי מיקומך. לוח שנה עברי מדויק עם זמני הדלקת נרות והבדלה.",
        "image": "https://dorpascal.com/hebrew-calendar/app-preview.webp",
        "softwareVersion": "1.0",
        "datePublished": "2024-09-01",
        "dateModified": "2024-09-01",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "ILS"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "100"
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "דף הבית",
            "item": "https://dorpascal.com"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "לוח שנה עברי",
            "item": "https://dorpascal.com/hebrew-calendar/"
        },
        {
            "@type": "ListItem",
            "position": 3,
            "name": "זמני שבת",
            "item": "https://dorpascal.com/hebrew-calendar/shabbat-times/"
        }]
    }
    </script>

    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            background-color: #ffffff;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .time-display {
            font-size: 24px;
            margin: 20px 0;
            padding: 15px;
            background-color: #ecf0f1;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        .time-display:hover {
            transform: scale(1.05);
            background-color: #d5dbdb;
        }
        .label {
            font-weight: bold;
            color: #34495e;
        }
        .time {
            color: #e74c3c;
            font-size: 28px;
        }
        .location-input {
            margin-bottom: 20px;
        }
        input, button {
            padding: 10px;
            font-size: 16px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #2980b9;
        }
        .error-message {
            color: #e74c3c;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>זמני שבת</h1>
        <div class="location-input">
            <input type="text" id="city" placeholder="עיר" value="Tel Aviv">
            <button onclick="updateTimes()">עדכן זמנים</button>
        </div>
        <div class="time-display">
            <span class="label">כניסת השבת:</span>
            <span class="time" id="entrance-time"></span>
        </div>
        <div class="time-display">
            <span class="label">יציאת השבת:</span>
            <span class="time" id="exit-time"></span>
        </div>
        <div id="error-message" class="error-message"></div>
    </div>

    <script>
        async function getShabbatTimes(city) {
            const apiUrl = `https://www.hebcal.com/shabbat?cfg=json&city=${encodeURIComponent(city)}&lg=he`;
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                if (!data.items || !Array.isArray(data.items)) {
                    throw new Error('Invalid response format');
                }
                const items = data.items;
                const entranceItem = items.find(item => item.category === "candles");
                const exitItem = items.find(item => item.category === "havdalah");
                return {
                    entrance: entranceItem ? entranceItem.title.split(": ")[1] : "לא נמצא",
                    exit: exitItem ? exitItem.title.split(": ")[1] : "לא נמצא"
                };
            } catch (error) {
                console.error("Error fetching Shabbat times:", error);
                throw error;
            }
        }

        async function updateTimes() {
            const city = document.getElementById('city').value || "Tel Aviv";
            const entranceTimeElement = document.getElementById('entrance-time');
            const exitTimeElement = document.getElementById('exit-time');
            const errorMessageElement = document.getElementById('error-message');

            try {
                errorMessageElement.textContent = '';
                entranceTimeElement.textContent = 'טוען...';
                exitTimeElement.textContent = 'טוען...';

                const times = await getShabbatTimes(city);
                entranceTimeElement.textContent = times.entrance;
                exitTimeElement.textContent = times.exit;
            } catch (error) {
                entranceTimeElement.textContent = 'שגיאה';
                exitTimeElement.textContent = 'שגיאה';
                errorMessageElement.textContent = `שגיאה בטעינת הנתונים: ${error.message}`;
            }
        }

        // Update times when the page loads
        updateTimes();
    </script>
</body>
</html>